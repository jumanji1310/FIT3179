{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "config": {
        "font": "Tahoma"
    },
    "width": "container",
    "height": "container",
    "data": {
        "url": "../data/subscribers_and_downloads2.csv"
    },
    "params": [
        {
            "name": "type_selection",
            "value": null,
            "bind": {
                "input": "radio",
                "options": [
                    null,
                    "subscribers",
                    "downloads"
                ],
                "labels": [
                    "Show all",
                    "Subscribers",
                    "Downloads"
                ],
                "name": "Show Subscribers/Downloads: "
            }
        }
    ],
    "transform": [
        {
            "filter": "type_selection == null || if(type_selection == 'downloads', indexof(datum.Category, 'downloads') > 0, indexof(datum.Category, 'subscribers') > 0)"
        }
    ],
    "mark": {
        "type": "line",
        "point": true
    },
    "encoding": {
        "y": {
            "field": "Value",
            "type": "quantitative",
            "title": ["a","b"]
        },
        "x": {
            "field": "Date",
            "type": "ordinal",
            "axis": {
                "labelAngle": 0
            },
            "sort": [
                "Jun 2013, Dec 2013"
            ],
            "title": "Month and Year"
        },
        "color": {
            "field": "Category",
            "type": "nominal"
        }
    }
}